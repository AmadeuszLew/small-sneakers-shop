<nav class="navbar navbar-expand" id="main-navbar">
  <div class="container-fluid">
    <a class="navbar-brand text-light" (click)="resetFiltersAndGoHome()">
        <img src="assets/img/logo.png" alt="Logo" width="auto" height="50" class="logo-image">
    </a>
    <div class="navbar-nav text-center">
        <form class="d-flex" role="search" (ngSubmit)="onSearch($event)">
            <input 
                class="form-control" 
                type="search" 
                placeholder="Szukaj" 
                aria-label="Search"
                [(ngModel)]="searchText"
                name="search">
            <button class="btn btn-outline-success" type="submit">
                <i class="bi bi-search"></i>
            </button>
        </form>

      <!-- User menu for authenticated users -->
      <div class="dropdown" *ngIf="isUserLoggedIn">
        <a class="nav-link dropdown-toggle text-dark p-1 d-none d-sm-block" role="button" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="bi bi-person-check"></i>
        </a>
        <ul class="dropdown-menu dropdown-menu-end">
          <li><a class="dropdown-item" routerLink="/user"><i class="bi bi-person me-2"></i>Profil</a></li>
          <li><a class="dropdown-item" routerLink="/order-history"><i class="bi bi-clock-history me-2"></i>Moje zamówienia</a></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item" (click)="logout()"><i class="bi bi-box-arrow-right me-2"></i>Wyloguj</a></li>
        </ul>
      </div>

      <!-- Login link for unauthenticated users -->
      <a routerLink="/authorization" *ngIf="!isUserLoggedIn">
        <i class="bi bi-person-plus text-dark mt-1 p-1 d-none d-sm-block"></i>
      </a>

      <!-- Cart with item count -->
      <a class="position-relative" routerLink="/cart">
        <i class="bi bi-cart text-dark mt-2 d-none d-sm-block"></i>
        <span *ngIf="totalItems > 0" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
          {{totalItems}}
        </span>
      </a>
    </div>
  </div>
</nav>

<!-- Category navbar -->
<nav class="navbar navbar-expand-sm" id="category-navbar">
  <div class="container-fluid shadow">
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav me-auto">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle text-dark" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            JORDAN
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" (click)="filterByBrand('Jordan')">Wszystkie</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" (click)="filterByModelAndBrand('Jordan 1', 'Jordan')">Jordan I</a></li>
            <li><a class="dropdown-item" (click)="filterByModelAndBrand('Jordan 3', 'Jordan')">Jordan III</a></li>
            <li><a class="dropdown-item" (click)="filterByModelAndBrand('Jordan 4', 'Jordan')">Jordan IV</a></li>
            <li><a class="dropdown-item" (click)="filterByModelAndBrand('Jordan 5', 'Jordan')">Jordan V</a></li>
            <li><a class="dropdown-item" (click)="filterByModelAndBrand('Jordan 11', 'Jordan')">Jordan XI</a></li>
          </ul>
        </li>
      </ul>
      
      <ul class="navbar-nav me-auto">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle text-dark" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            NIKE
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" (click)="filterByBrand('Nike')">Wszystkie</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" (click)="filterByModelAndBrand('Dunk', 'Nike')">Dunk</a></li>
            <li><a class="dropdown-item" (click)="filterByModelAndBrand('Air Max', 'Nike')">Air Max</a></li>
            <li><a class="dropdown-item" (click)="filterByModelAndBrand('Air Force', 'Nike')">Air Force</a></li>
            <li><a class="dropdown-item" (click)="filterByModelAndBrand('Zoom', 'Nike')">Zoom Type</a></li>
          </ul>
        </li>
      </ul>

      <ul class="navbar-nav me-auto">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle text-dark" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            ADIDAS
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" (click)="filterByBrand('Adidas')">Wszystkie</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" (click)="filterByModelAndBrand('Ultraboost', 'Adidas')">Ultraboost</a></li>
            <li><a class="dropdown-item" (click)="filterByModelAndBrand('Adilette', 'Adidas')">Adilette slides</a></li>
          </ul>
        </li>
      </ul>

      <ul class="navbar-nav me-auto">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle text-dark" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            YEEZY
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" (click)="filterByBrand('Yeezy')">Wszystkie</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" (click)="filterByModelAndBrand('Slide', 'Yeezy')">Slide</a></li>
            <li><a class="dropdown-item" (click)="filterByModelAndBrand('Yeezy 350', 'Yeezy')">Yeezy 350 v2</a></li>
            <li><a class="dropdown-item" (click)="filterByModelAndBrand('Yeezy 500', 'Yeezy')">Yeezy 500</a></li>
            <li><a class="dropdown-item" (click)="filterByModelAndBrand('Yeezy 700', 'Yeezy')">Yeezy 700</a></li>
            <li><a class="dropdown-item" (click)="filterByModelAndBrand('QNTM', 'Yeezy')">Yeezy QNTM</a></li>
          </ul>
        </li>
      </ul>
      
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link text-danger" (click)="showOnSale()">WYPRZEDAŻ</a>
        </li>
      </ul>
    </div>
  </div>
</nav>